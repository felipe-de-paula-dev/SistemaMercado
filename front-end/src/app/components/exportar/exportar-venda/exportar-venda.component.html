<div
  class="fixed w-screen h-screen left-0 top-0 bg-black/40 flex items-center justify-center z-50"
>
  <div
    class="bg-white w-full max-w-md mx-4 rounded-2xl shadow-2xl p-6 space-y-6 animate-fade-in"
  >
    <div class="flex items-center justify-between text-slate-700">
      <lucide-icon
        [img]="VoltarIcon"
        class="w-6 h-6 text-slate-500 hover:text-slate-700 transition cursor-pointer"
        (click)="fecharModal()"
      ></lucide-icon>
      <h2 class="text-xl font-bold text-slate-800">Exportar Vendas</h2>
      <lucide-icon
        [img]="FecharIcon"
        class="w-6 h-6 text-slate-500 hover:text-red-500 transition cursor-pointer"
        (click)="fecharModal()"
      ></lucide-icon>
    </div>

    <div class="text-center space-y-4">
      <h1 class="text-xl font-semibold text-slate-700">Tipo de Arquivo</h1>
      <div class="flex w-full items-center justify-center">
        <div
          class="flex flex-col items-center justify-center gap-2 bg-green-200 hover:bg-slate-100 shadow-md rounded-xl border border-green-200 p-6 transition hover:cursor-pointer w-[150px]"
          (click)="selecionarTipoArquivo('excel')"
        >
          <h1 class="text-slate-600 text-lg font-semibold">Excel</h1>
          <lucide-icon
            [img]="excelIcon"
            class="w-10 h-10 text-green-500 hover:text-slate-700 transition"
          ></lucide-icon>
        </div>
      </div>
    </div>

    <!-- Escolher filtro de exportação -->
    <div class="text-center space-y-4">
      <h1 class="text-xl font-semibold text-slate-700">Exportar por:</h1>
      <div class="flex justify-center gap-6">
        <button
          class="px-6 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold rounded-lg shadow"
          (click)="selecionarFiltro('cliente')"
        >
          Cliente
        </button>
        <button
          class="px-6 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold rounded-lg shadow"
          (click)="selecionarFiltro('periodo')"
        >
          Período
        </button>
      </div>
    </div>

    <!-- Se filtro por cliente -->
    <div *ngIf="filtroSelecionado === 'cliente'" class="space-y-4">
      <label class="block text-slate-700 font-semibold"
        >Selecione o Cliente:</label
      >
      <select
        class="w-full border border-slate-300 rounded-lg p-2 shadow focus:outline-none focus:ring-2 focus:ring-slate-400"
        [(ngModel)]="clienteSelecionado"
      >
        <option [ngValue]="null" selected disabled>Selecione Um Cliente</option>
        <option *ngFor="let cliente of clientes" [ngValue]="cliente">
          {{ cliente.nome }}
        </option>
      </select>
    </div>

    <div *ngIf="filtroSelecionado === 'periodo'" class="space-y-4">
      <label class="block text-slate-700 font-semibold">De:</label>
      <input
        type="date"
        class="w-full border border-slate-300 rounded-lg p-2 shadow focus:outline-none focus:ring-2 focus:ring-slate-400"
        [(ngModel)]="datainicio"
      />

      <label class="block text-slate-700 font-semibold">Até:</label>
      <input
        type="date"
        class="w-full border border-slate-300 rounded-lg p-2 shadow focus:outline-none focus:ring-2 focus:ring-slate-400"
        [(ngModel)]="datafim"
      />
    </div>

    <div class="flex justify-center pt-6">
      <button
        class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-lg shadow-lg transition"
        (click)="exportar()"
      >
        Exportar
      </button>
    </div>
  </div>
</div>
